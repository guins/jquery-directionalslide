/* 
| Plugin name : Directional Slide
| Version : 0.9 (Beta)
| author : Stéphane Guigné (http://stephaneguigne.com)
| github : https://github.com/guins/jquery-directionalslide
*/
;(function(a){a.DirectionalSlide=function(b,c){function h(){if(c.animateOnClick||d.isTouch){d.animationOn="click";b.css({cursor:"pointer"})}e=b.find(c.hoverElmt);f=b.find(c.normalElmt);i();j()}function i(){var a={position:"absolute",top:"0%",left:"0%",width:"100%",height:"100%"};if(b.css("position")&&b.css("position")=="static")b.css({position:"relative"});b.css({overflow:"hidden"});f.css(a);e.css(a).hide()}function j(){b.bind(d.animationOn+" mouseleave",function(a){var e=b.data("isAnimate")?true:false,f=b.data("isOpen")?true:false,g=n({x:a.pageX,y:a.pageY}),h=o(g);if(a.type===d.animationOn){if(!e)b.data("props",h);if(!c.animateOnClick||c.animateOnClick&&!e&&!f)k(false,true);else if(c.animateOnClick&&!e&&f)k(true,false)}else if(a.type==="mouseleave"){if(c.animateOnClick&&!e&&!f)return;if(!e&&f)b.data("props",h);k(true,false)}})}function k(a,d){if(b.data("props")==undefined)return;var h=b.data("props"),i=b.data("isAnimate")?true:false,j={},k={},n=c.animateSpeed,o=c.animateSpeed;if(!a){k["from"]=!i?h.hover:{};k["to"]=g.origin;j["from"]={};j["to"]=h.normal;n-=50}else{k["from"]={};k["to"]=h.hover;o-=50;j["from"]=!i?h.normal:{};j["to"]=g.origin}l();e.stop(true,false).css(k.from).show().animate(k.to,n,function(){m(d)});f.stop(true,false).css(j.from).show().animate(j.to,o,function(){m(d)})}function l(){b.data("isAnimate",true);b.data("isOpen",false)}function m(a){b.data("isAnimate",false);if(a)b.data("isOpen",true)}function n(a){var c=b.outerWidth(),d=b.outerHeight(),e=a.x-b.offset().left,f=a.y-b.offset().top,g;if(e<=c/2&&f<=d/2)g=e>f?0:3;else if(e>=c/2&&f<=d/2)g=c-e>f?0:1;else if(e>=c/2&&f>=d/2)g=c-e>d-f?2:1;else if(e<=c/2&&f>=d/2)g=e>d-f?2:3;return g}function o(a){var b={};switch(a){case 0:b["normal"]=!c.reverseNormal?g.fromBottom:g.fromTop;b["hover"]=!c.reverseHover?g.fromTop:g.fromBottom;break;case 1:b["normal"]=!c.reverseNormal?g.fromLeft:g.fromRight;b["hover"]=!c.reverseHover?g.fromRight:g.fromLeft;break;case 2:b["normal"]=!c.reverseNormal?g.fromTop:g.fromBottom;b["hover"]=!c.reverseHover?g.fromBottom:g.fromTop;break;case 3:b["normal"]=!c.reverseNormal?g.fromRight:g.fromLeft;b["hover"]=!c.reverseHover?g.fromLeft:g.fromRight;break}return b}var d=a.DirectionalSlide.settings,e,f,g={origin:{top:"0%",left:"0%",avoidTransforms:c.avoidTransforms},fromTop:{top:"-100%",left:"0%",avoidTransforms:c.avoidTransforms},fromRight:{top:"0%",left:"100%",avoidTransforms:c.avoidTransforms},fromBottom:{top:"100%",left:"0%",avoidTransforms:c.avoidTransforms},fromLeft:{top:"0%",left:"-100%",avoidTransforms:c.avoidTransforms}};h();return{}};a.DirectionalSlide.settings=function(){var a="ontouchstart"in window||"ontouchstart"in document.documentElement,b="mouseenter",c=false,d=null,e=["WebkitTransition","MozTransition","OTransition","transition"],f={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionEnd"},g={},h=document.body||document.documentElement,i=h.style,j=e.length;for(var k=0;k<j;k++){var l=e[k];if(i[l]!==undefined){d=l;c=true}}if(c)g=f[d];return{hasTransitions:c,transitionType:d,transitionEnd:g,animationOn:b,isTouch:a}}();a.fn.directionalSlide=function(b){var c={avoidTransforms:true,reverseHover:false,reverseNormal:false,normalElmt:".directional-slide-normal",hoverElmt:".directional-slide-hover",animateSpeed:500,animateOnClick:false};this.each(function(){var d=a.data(this,"hoverdir");if(!d){b=a.extend(true,{},c,b);a.data(this,"hoverdir",new a.DirectionalSlide(a(this),b))}});return this}})(jQuery);